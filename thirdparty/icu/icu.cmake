set(ICU_DIR ${CMAKE_CURRENT_LIST_DIR})

if (CMAKE_SYSTEM_PROCESSOR MATCHES "(amd64)|(AMD64)")
    if(CMAKE_SYSTEM_NAME STREQUAL "Windows")
        set(ICU_ROOT "${ICU_DIR}/win/x64")
    elseif(CMAKE_SYSTEM_NAME STREQUAL "Linux")
        set(ICU_ROOT "${ICU_DIR}/linux")
    endif()
elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "(aarch64)|(arm64)|(AARCH64)|(ARM64)")
    if(CMAKE_SYSTEM_NAME STREQUAL "Windows")
        set(ICU_ROOT "${ICU_DIR}/win/arm64")
    endif()
endif()

find_package(ICU REQUIRED COMPONENTS uc i18n)